#N canvas 592 440 533 427 12;
#N canvas 324 362 450 278 (subpatch) 0;
#X array weights 512 float 2;
#X coords 0 1.5 512 -1.5 400 200 1 0 0;
#X restore 54 172 graph;
#X msg 54 97 layers;
#N canvas 232 249 1242 705 operations 0;
#X obj 28 64 inlet;
#X obj 740 85 r weights_roll;
#X obj 419 85 r weights_multiply;
#X obj 226 85 r weights_shift;
#X obj 739 187 t f b;
#X obj 739 409 list-abs/list-rot;
#X obj 739 251 *;
#X obj 739 294 int;
#X obj 739 338 t b f;
#X obj 28 154 array get orig;
#X obj 28 182 array set weights;
#X obj 94 233 array get weights;
#X obj 94 261 array set orig;
#X obj 226 120 f;
#X obj 740 119 t f b;
#X obj 739 153 f;
#X obj 739 447 array set weights;
#X obj 433 340 f;
#X obj 226 152 tab_add_scalar orig tmp1;
#X obj 433 368 tab_mul_scalar tmp1 tmp2;
#X obj 419 280 t b f;
#X obj 739 375 array get tmp2;
#N canvas 759 279 525 209 array-variables 0;
#N canvas 266 304 450 278 (subpatch) 0;
#X array tmp1 512 float 2;
#X coords 0 1 512 -1 200 140 1 0 0;
#X restore 19 28 graph;
#N canvas 266 304 450 278 (subpatch) 0;
#X array tmp2 512 float 2;
#X coords 0 1 512 -1 200 140 1 0 0;
#X restore 277 26 graph;
#X restore 29 312 pd array-variables;
#X text 224 56 1 SHIFT;
#X text 419 56 2 MULTIPLY;
#X text 738 56 3 ROLL;
#X obj 28 122 route restore store;
#X obj 757 221 array size tmp2;
#X obj 524 142 r weights_flip;
#X obj 524 204 t b f;
#X floatatom 579 206 5 0 0 0 - - - 0;
#X obj 524 173 expr ($f1-0.5)*-2;
#X obj 419 241 expr ($f1+1) * $f2;
#X connect 0 0 26 0;
#X connect 1 0 14 0;
#X connect 2 0 32 0;
#X connect 3 0 13 0;
#X connect 4 0 6 0;
#X connect 4 1 27 0;
#X connect 5 0 16 0;
#X connect 6 0 7 0;
#X connect 7 0 8 0;
#X connect 8 0 21 0;
#X connect 8 1 5 1;
#X connect 9 0 10 0;
#X connect 11 0 12 0;
#X connect 13 0 18 0;
#X connect 14 0 15 1;
#X connect 14 1 13 0;
#X connect 15 0 4 0;
#X connect 17 0 19 0;
#X connect 18 0 17 0;
#X connect 19 0 15 0;
#X connect 20 0 13 0;
#X connect 20 1 17 1;
#X connect 21 0 5 0;
#X connect 26 0 9 0;
#X connect 26 1 11 0;
#X connect 27 0 6 1;
#X connect 28 0 31 0;
#X connect 29 0 32 0;
#X connect 29 1 32 1;
#X connect 31 0 29 0;
#X connect 31 0 30 0;
#X connect 32 0 20 0;
#X restore 297 95 pd operations;
#X obj 57 372 hsl 395 19 0 1 0 0 weights_roll weights_roll_rec empty -2 -10 0 12 #fcfcfc #000000 #000000 0 1;
#X obj 454 174 vsl 19 195 -3 3 0 0 weights_shift weights_shift_rec empty 0 -9 0 12 #fcfcfc #000000 #000000 0 1;
#X obj 473 174 vsl 19 195 -1 30 0 0 weights_multiply weights_multiply_rec empty 0 -9 0 12 #fcfcfc #000000 #000000 0 1;
#X msg 297 46 restore;
#X msg 297 70 store;
#X obj 53 70 s layer_name;
#X obj 54 121 s control-message;
#N canvas 683 215 419 417 bend 0;
#X obj 20 194 array get weights;
#X obj 20 271 list trim;
#X obj 20 20 bng 80 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X text 44 52 BEND;
#X obj 140 118 r layer_name;
#X obj 101 164 symbol;
#X obj 20 128 t b b;
#X obj 20 243 list prepend set_weights;
#X obj 20 219 list prepend;
#X obj 140 141 symbol;
#X obj 20 297 s control-message;
#X connect 0 0 8 0;
#X connect 1 0 10 0;
#X connect 2 0 6 0;
#X connect 4 0 9 0;
#X connect 5 0 8 1;
#X connect 6 0 0 0;
#X connect 6 1 5 0;
#X connect 7 0 1 0;
#X connect 8 0 7 0;
#X connect 9 0 5 1;
#X coords 0 -1 1 1 80 80 1 20 20;
#X restore 415 46 pd bend;
#N canvas 303 243 684 439 model 0;
#N canvas 353 148 964 630 control 1;
#X obj 46 185 random 1000;
#X obj 46 320 line;
#X floatatom 99 105 5 0 0 0 - - - 0;
#X msg 46 293 \$1 \$2;
#X obj 46 270 pack f f;
#X obj 46 156 metro;
#X floatatom 46 347 5 0 0 0 - - - 0;
#X obj 46 123 t b f;
#X obj 156 184 random 1000;
#X obj 156 319 line;
#X floatatom 210 104 5 0 0 0 - - - 0;
#X msg 156 292 \$1 \$2;
#X obj 156 269 pack f f;
#X obj 156 155 metro;
#X floatatom 156 345 5 0 0 0 - - - 0;
#X obj 156 122 t b f;
#X obj 382 217 noise~;
#X obj 437 179 expr~ ($v1+1)/2;
#X obj 382 250 lop~;
#X obj 46 378 +~;
#X obj 156 376 +~;
#X obj 512 217 noise~;
#X obj 567 179 expr~ ($v1+1)/2;
#X obj 512 250 lop~;
#X obj 156 46 loadbang;
#X msg 99 78 1500;
#X msg 210 79 500;
#X obj 156 404 clip~ 0 1;
#X obj 437 149 phasor~ 0.15;
#X obj 567 149 phasor~ 0.05;
#X obj 276 184 random 1000;
#X obj 276 319 line;
#X floatatom 330 104 5 0 0 0 - - - 0;
#X msg 276 292 \$1 \$2;
#X obj 276 269 pack f f;
#X obj 276 155 metro;
#X floatatom 276 345 5 0 0 0 - - - 0;
#X obj 276 122 t b f;
#X obj 276 376 +~;
#X obj 276 404 clip~ 0 1;
#X obj 652 217 noise~;
#X obj 707 179 expr~ ($v1+1)/2;
#X obj 652 250 lop~;
#X obj 707 149 phasor~ 0.35;
#X obj 46 437 expr~ $v1/2 \; ($v2)/2 \; $v3/2;
#X msg 330 79 1350;
#X obj 46 404 clip~ 0 1;
#X obj 46 500 outlet~;
#X obj 107 500 outlet~;
#X obj 167 501 outlet~;
#X obj 567 215 *~ 1;
#X obj 437 215 *~ 1;
#X obj 707 215 *~ 11;
#X obj 276 213 / 5000;
#X obj 156 213 / 2000;
#X obj 46 238 + 0.5;
#X obj 46 214 / 5000;
#X connect 0 0 56 0;
#X connect 1 0 6 0;
#X connect 2 0 7 0;
#X connect 2 0 4 1;
#X connect 3 0 1 0;
#X connect 4 0 3 0;
#X connect 5 0 0 0;
#X connect 6 0 19 0;
#X connect 7 0 5 0;
#X connect 7 1 5 1;
#X connect 8 0 54 0;
#X connect 9 0 14 0;
#X connect 10 0 15 0;
#X connect 10 0 12 1;
#X connect 11 0 9 0;
#X connect 12 0 11 0;
#X connect 13 0 8 0;
#X connect 14 0 20 0;
#X connect 15 0 13 0;
#X connect 15 1 13 1;
#X connect 16 0 18 0;
#X connect 17 0 51 0;
#X connect 18 0 19 1;
#X connect 19 0 46 0;
#X connect 20 0 27 0;
#X connect 21 0 23 0;
#X connect 22 0 50 0;
#X connect 23 0 20 1;
#X connect 24 0 25 0;
#X connect 24 0 26 0;
#X connect 24 0 45 0;
#X connect 25 0 2 0;
#X connect 26 0 10 0;
#X connect 27 0 44 1;
#X connect 28 0 17 0;
#X connect 29 0 22 0;
#X connect 30 0 53 0;
#X connect 31 0 36 0;
#X connect 32 0 37 0;
#X connect 32 0 34 1;
#X connect 33 0 31 0;
#X connect 34 0 33 0;
#X connect 35 0 30 0;
#X connect 36 0 38 0;
#X connect 37 0 35 0;
#X connect 37 1 35 1;
#X connect 38 0 39 0;
#X connect 40 0 42 0;
#X connect 41 0 52 0;
#X connect 42 0 38 1;
#X connect 43 0 41 0;
#X connect 44 0 47 0;
#X connect 44 1 48 0;
#X connect 44 2 49 0;
#X connect 45 0 32 0;
#X connect 46 0 44 0;
#X connect 50 0 23 1;
#X connect 51 0 18 1;
#X connect 52 0 42 1;
#X connect 53 0 34 0;
#X connect 54 0 12 0;
#X connect 55 0 4 0;
#X connect 56 0 55 0;
#X restore 279 27 pd control;
#N canvas 63 101 450 300 control-constant 0;
#X obj 119 79 loadbang;
#X floatatom 119 133 5 0 0 0 - - - 0;
#X obj 119 156 sig~;
#X obj 119 180 outlet~;
#X msg 119 109 0.15;
#X floatatom 199 133 5 0 0 0 - - - 0;
#X obj 199 156 sig~;
#X obj 199 180 outlet~;
#X floatatom 269 133 5 0 0 0 - - - 0;
#X obj 269 156 sig~;
#X obj 269 180 outlet~;
#X msg 269 109 0.05;
#X msg 199 109 0.05;
#X connect 0 0 4 0;
#X connect 0 0 12 0;
#X connect 0 0 11 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 4 0 1 0;
#X connect 5 0 6 0;
#X connect 6 0 7 0;
#X connect 8 0 9 0;
#X connect 9 0 10 0;
#X connect 11 0 8 0;
#X connect 12 0 5 0;
#X restore 28 143 pd control-constant;
#X obj 27 74 nn~ ybalferran-512b-512lat-4hid.ts decode 8192;
#N canvas 92 130 392 420 routing 0;
#X obj 131 96 inlet;
#X obj 131 134 route layer;
#X obj 33 245 array set weights;
#X obj 187 192 list length;
#X obj 33 219 list;
#X obj 187 244 array size weights;
#X obj 131 166 t b a a;
#X obj 33 195 del 1;
#X floatatom 187 217 16 0 0 0 - - - 0;
#X obj 259 153 print;
#X obj 33 270 array set orig;
#X obj 187 270 array size orig;
#X obj 33 294 t b;
#N canvas 324 362 450 300 reset_sliders 0;
#X obj 37 37 inlet;
#X obj 37 101 send weights_roll_rec;
#X obj 37 131 send weights_shift_rec;
#X msg 37 68 0;
#X obj 37 158 send weights_multiply_rec;
#X obj 37 185 send weights_flip_rec;
#X connect 0 0 3 0;
#X connect 3 0 1 0;
#X connect 3 0 2 0;
#X connect 3 0 4 0;
#X connect 3 0 5 0;
#X restore 33 318 pd reset_sliders;
#X obj 187 297 array size tmp1;
#X obj 187 323 array size tmp2;
#X text 31 20 Routes the messages other than audio signal;
#X text 31 40 Received from the nn~ object.;
#X connect 0 0 1 0;
#X connect 1 0 6 0;
#X connect 1 1 9 0;
#X connect 3 0 5 0;
#X connect 3 0 8 0;
#X connect 3 0 11 0;
#X connect 3 0 14 0;
#X connect 3 0 15 0;
#X connect 4 0 2 0;
#X connect 4 0 10 0;
#X connect 6 0 7 0;
#X connect 6 1 4 1;
#X connect 6 2 3 0;
#X connect 7 0 4 0;
#X connect 7 0 12 0;
#X connect 12 0 13 0;
#X restore 346 99 pd routing;
#N canvas 589 164 701 692 mix 0;
#X obj 26 53 inlet~;
#X obj 26 135 dac~ 1 2;
#X obj 26 112 lop~;
#X obj 79 111 lop~;
#X floatatom 103 86 5 0 0 0 - - - 0;
#X obj 103 37 loadbang;
#X msg 103 62 22500;
#X connect 0 0 2 0;
#X connect 0 0 3 0;
#X connect 2 0 1 0;
#X connect 3 0 1 1;
#X connect 4 0 3 1;
#X connect 4 0 2 1;
#X connect 5 0 6 0;
#X connect 6 0 4 0;
#X restore 27 101 pd mix;
#X obj 27 28 r control-message;
#X msg 27 269 get_weights \$1;
#X obj 27 241 symbol;
#X obj 27 214 r layer_name;
#X obj 27 297 s control-message;
#X text 162 250 Load weights logic;
#N canvas 179 217 450 278 (subpatch) 0;
#X array orig 512 float 2;
#X coords 0 1.5 512 -1.5 200 140 1 0 0;
#X restore 351 198 graph;
#X connect 0 0 2 0;
#X connect 0 1 2 1;
#X connect 0 2 2 2;
#X connect 2 0 4 0;
#X connect 2 1 3 0;
#X connect 5 0 2 0;
#X connect 6 0 9 0;
#X connect 7 0 6 0;
#X connect 8 0 7 0;
#X restore 217 122 pd model;
#X obj 435 153 tgl 19 0 weights_flip weights_flip_rec empty 0 -10 0 12 #fcfcfc #000000 #000000 0 1;
#X text 458 154 flip;
#X msg 114 97 reload;
#X msg 53 46 pretrained.inter_mlp.4.weight;
#X connect 1 0 9 0;
#X connect 6 0 2 0;
#X connect 7 0 2 0;
#X connect 14 0 9 0;
#X connect 15 0 8 0;
